{% load i18n %}

<c-context-menu>
  <c-slot name="context">
    <button
      hx-delete="{% url 'delete-staff' id=stf.id %}"
      hx-confirm="{% translate 'are you sure wanna DELETE' %} {{ stf.name }}{% translate '?' %}"
      hx-target="closest tr"
      hx-swap="outerHTML"
      title="{% translate 'delete' %} {{ stf.name }}"
      itemprop="delete"
      class="hover:bg-slate-100 px-2 py-1"
    >
      <span>{% translate 'delete' %}</span>
    </button>
    <button
      hx-get="{% url 'get-update-staff-form' id=stf.id %}"
      hx-target="#staff-form"
      hx-swap="outerHTML show:#staff-form:bottom"
      title="{% translate 'edit' %} {{ stf.name }}"
      class="hover:bg-slate-100 px-2 py-1"
    >
      <span>{% translate 'edit' %}</span>
    </button>
    <button
      hx-get="{% url 'toggle-countable-staff' id=stf.id %}"
      hx-target="#staff-{{ stf.id }}"
      hx-swap="outerHTML"
      hx-headers='{"row-idx": {{ row_idx }}}'
      id="staff-countable-toggle-btn-{{ stf.id }}"
      title="{% if not stf.is_countable %}{% translate 'make it countable' %}{% else %}{% translate 'do not count' %}{% endif %} {{ stf.name }}"
      class="hover:bg-slate-100 px-2 py-1"
    >
      <span>
        {% if not stf.is_countable %}
          {% translate 'make it countable' %}
        {% else %}
          {% translate 'do not count' %}
        {% endif %}
      </span
      >
    </button>
  </c-slot>
</c-context-menu>
